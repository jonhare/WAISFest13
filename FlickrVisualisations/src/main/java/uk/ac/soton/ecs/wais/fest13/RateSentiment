import java.io.*;
import java.util.*;

public class RateSentiment
{
	HashMap<String, Integer> rating; 
	File compareWith = new File("File of words");
	
	public int median;
	public double mean;
	public HashMap<String, Integer> scores;	
	
	public RateSentiment() throws Exception
	{
		hashmap();
	}
	
	public void hashmap() throws Exception
	{
		BufferedReader br = new BufferedReader(new FileReader(compareWith));
		
		rating = new HashMap<String, Integer>();
		
		String data;
		while((data = br.readLine())!=null)
		{
			rating.put(data.split("	")[0], Integer.parseInt(data.split("	")[1]));
		}
		
		br.close();
	}	
	
	public void calculate(String[] tags)
	{			
		int num=0, sum=0;
		
		scores = new HashMap<String, Integer>();
		
		for(int i=0; i<tags.length; i++)
		{
			scores.put(tags[i], 0);
			if(rating.containsKey(tags[i]))
			{
				scores.put(tags[i], rating.get(tags[i]));
				sum+=rating.get(tags[i]);
				num++;
			}
		}
		
		mean = sum/num; 
		median = ((Integer[])scores.values().toArray())[scores.values().toArray().length/2];		
	}
	
	public double getMean()
	{
		return mean;
	}
	
	public int median()
	{
		return median;
	}
	
	public HashMap<String,Integer> scoreList()
	{
		return scores;
	}
}
